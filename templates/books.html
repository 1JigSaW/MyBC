{% extends "base.html" %}
{% load static %}
{% block title %}MyBC{% endblock %}

{% block content %}
	<header>
		<nav class="navbar navbar-dark">
		  	<div class="container-fluid">
		    	<a href="{% url 'account' %}" class="navbar-brand flex-grow-1">MyBC</a>
		    	<form class="d-flex me-3">
			      	<input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
			      	<button class="btn btn-outline-light" type="submit">Поиск</button>
			    </form>
		    	<div class="text-end">
          			<!-- <a href="{% url 'login' %}" type="button" class="btn btn-warning me-2">Login</a>
          			<a href="{% url 'registration' %}" type="button" class="btn btn-warning">Sign-up</a> -->
          			<a href="{% url 'logout' %}" type="button" class="btn btn-outline-danger">Выйти</a>
        		</div>
		  	</div>
		</nav>
	</header>	
	<main>
		<section class="subheader">
			<div class="container">
				<div class="submodule mt-3 mb-2">
					<div class="btn-group w-100 p-3">
						<a href="{% url 'books' %}" class="btn btn-outline-light p-3 active" aria-current="page">Книги</a>
						<a href="{% url 'courses' %}" class="btn btn-outline-light p-3">Курсы</a>
						<a href="{% url 'articles' %}" class="btn btn-outline-light p-3" >Статьи</a>
						<a href="{% url 'videos' %}" class="btn btn-outline-light p-3">Видео</a>
					</div>
				</div>
			</div>
		</section>
		<!-- <section class="main">
				<div class="alignment">
					<button id="redact" class="btn_redact" onclick="redact()">Редактировать</button>
					<div class="switch_future">
						<a href="{% url 'future_books' %}"><button class="switch_book">Хочу прочитать</button></a>
						<a href="{% url 'books' %}"><button class="switch_book">Прочитал</button></a>
					</div>
					<h1>Книги:</h1>		
					<div class="books">
						{% if books %}
							<ol>{% for book in books %}
									<form method="post">
										{% csrf_token %}
										<button class="delete_post" name="delete_book" value="{{ book.id }}"><img class="delete_img" src="{% static 'img/delete.png' %}" ></button>
									</form>
									<li>{{ book.author }}
									{{ book.title }}
									{{ book.date }}</li>
								{% endfor %}
							</ol>
						{% else %}
							<p class="alert_bc">Пока нет ни одной прочитанной книги</p>
						{% endif %}
					</div>
					<button class="btn_book" onclick="openForm()">Добавить книгу</button>
					<form class="form_book" name="form_book" method="POST">
						{% csrf_token %}
						<label class="first_label">Автор</label>
						{{ form_book.author }}
					  	<label class="second_label">Название</label>
					  	{{ form_book.title }}
					  	<label class="third_label">Дата</label>
					  	{{ form_book.date }}
					  	<button type="submit" name="btn_books">Отправить</button>
					</form>
				</div>
		</section> -->
		<section class="common_field">
			<div class="container">
				<div class="alignment">
					<div class="btn-group p-3 w-100">
						<button id="redact" class="btn btn-outline-light btn_redact" onclick="redact()">Редактировать</button>
						<button class="btn btn-outline-light btn_book" onclick="openForm()">Добавить книгу</button>
					</div>
					<div class="p-3 form_book">
						<form method="POST">
							{% csrf_token %}
						  	<div class="row g-3 align-items-center">
						    	<div class="form-group col-md-4 mb-1 lh-3">
						    		{{ form_book.author }}
						      	</div>
						      	<div class="form-group col-md-4 mb-1">
						      		{{ form_book.title }}
						      	</div>
						      	<div class="form-group col-md-4 mb-1">
						      		{{ form_book.date }}
						    	</div>
						  	</div>
						  	<button type="submit" class="btn btn-lg btn-block btn-outline-light w-100 mt-2" name="btn_books">Отправить</button>
						</form>
					</div>
					<h1 class="text-center text-white p-2">Прочитанные книги:</h1>
					<div class="text-center">
						<div class="btn-group p-3 w-40">
							<a href="{% url 'books' %}" class="btn btn-outline-light active">Прочитанные</a>
							<a href="{% url 'future_books' %}" class="btn btn-outline-light">Хочу прочитать</a>
						</div>
					</div>
					{% if books %}
							<div class="p-3">
								<table class="table text-break ml-3 table-hover text-dark border-bottom-0">
									<thead>
								    	<tr>
								      		<th scope="col"><h5>№</h5></th>
								      		<th scope="col"><h5>Автор</h5></th>
								      		<th scope="col"><h5>Название</h5></th>
								      		<th scope="col"><h5>Дата</h5></th>
								    	</tr>
								  	</thead>
								  	<tbody>
								  		{% for book in books %}
										    <tr>
										      	<th scope="row"><h5>{{ forloop.counter }}</h5></th>
										      	<td><h5>{{ book.author }}</h5></td>
										      	<td><h5>{{ book.title }}</h5></td>
										      	<td><h5>{{ book.date }}</h5></td>
										      	<td class="delete_post">
										      		<form method="POST">
														{% csrf_token %}
														<li class="list-inline-item">
															<button class="btn btn-danger btn-sm rounded-0 delete_back" type="submit" name="delete_book" value="{{ book.id }}"><i class="fa fa-trash"></i></button>
														</li>
													</form>
												</td>
										    </tr>
									    {% endfor %}
								  	</tbody>
								</table>
							</div>
					{% else %}
						<p class="h4 text-center text-white p-1">Пока нет ни одной прочитанной книги</p>
					{% endif %}
				</div>
			</div>
		</section>
	</main>
{% endblock %}